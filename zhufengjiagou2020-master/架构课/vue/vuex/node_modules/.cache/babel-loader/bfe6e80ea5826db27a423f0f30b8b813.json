{"remainingRequest":"/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/node_modules/babel-loader/lib/index.js!/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/src/vuex/index.js","dependencies":[{"path":"/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/src/vuex/index.js","mtime":1582792265979},{"path":"/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9Vc2Vycy8xMDAweC9cdTRFMkFcdTRFQkFcdTk4NzlcdTc2RUUvXHU3M0UwXHU1Q0YwanMrXHU2N0I2XHU2Nzg0XHU4QkZFL215Y29kZS9cdTY3QjZcdTY3ODRcdThCRkUvdnVlL3Z1ZXgvdnVleC1hcHBsaWNhdGlvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9Vc2Vycy8xMDAweC9cdTRFMkFcdTRFQkFcdTk4NzlcdTc2RUUvXHU3M0UwXHU1Q0YwanMrXHU2N0I2XHU2Nzg0XHU4QkZFL215Y29kZS9cdTY3QjZcdTY3ODRcdThCRkUvdnVlL3Z1ZXgvdnVleC1hcHBsaWNhdGlvbi9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwp2YXIgVnVlOwoKdmFyIGZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKG9iaiwgY2FsbGJhY2spIHsKICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGtleSkgewogICAgY2FsbGJhY2soa2V5LCBvYmpba2V5XSk7CiAgfSk7Cn07IC8vIGZvckVhY2goe2E6MSxiOjJ9LChrZXksdmFsdWUpID0+IHsKLy8gICAgIGNvbnNvbGUubG9nKGtleSx2YWx1ZSk7Ci8vIH0pOwoKCnZhciBTdG9yZSA9Ci8qI19fUFVSRV9fKi8KZnVuY3Rpb24gKCkgewogIC8v55So5oi36I635Y+W55qE5piv6L+Z5LiqU3RvcmXnsbvnmoTlrp7kvosKICBmdW5jdGlvbiBTdG9yZShvcHRpb25zKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdG9yZSk7CgogICAgLy9vcHRpb25z77ya55So5oi3bmV3IOWunuS+i+aXtuS8oOWFpeeahOaJgOacieWxnuaApwogICAgLy9jb25zb2xlLmxvZyhvcHRpb25zKTsvLyBzdGF0ZSxnZXR0ZXJzLG11dGF0aW9ucyxhY3Rpb25zLi4uCiAgICB0aGlzLnZtID0gbmV3IFZ1ZSh7CiAgICAgIC8v5Yib5bu6dnVl5a6e5L6L77yM5L+d6K+B6KOF5aGr5pu05paw5Y+v5Lul5Yi35paw6KeG5Zu+CiAgICAgIGRhdGE6IHsKICAgICAgICAvLyDpu5jorqTov5nkuKrnirbmgIHkvJrooqvkvb/nlKhPYmplY3QuZGVmaW5lUHJvcGVydHnph43mlrDlrprkuYkKICAgICAgICBzdGF0ZTogb3B0aW9ucy5zdGF0ZQogICAgICB9CiAgICB9KTsKICAgIHZhciBnZXR0ZXJzID0gb3B0aW9ucy5nZXR0ZXJzOyAvL+iOt+WPlueUqOaIt+S8oOWFpeeahGdldHRlcnMKCiAgICB0aGlzLmdldHRlcnMgPSB7fTsKICAgIGRlYnVnZ2VyOwogICAgZm9yRWFjaChnZXR0ZXJzLCBmdW5jdGlvbiAoZ2V0dGVyTmFtZSwgdmFsdWUpIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF90aGlzLmdldHRlcnMsIGdldHRlck5hbWUsIHsKICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgICAgIHJldHVybiB2YWx1ZShfdGhpcy5zdGF0ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgX2NyZWF0ZUNsYXNzKFN0b3JlLCBbewogICAga2V5OiAic3RhdGUiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIC8v6I635Y+W5a6e5L6L5LiK55qEc3RhdGXlsZ7mgKflsLHkvJrmiafooYzmraTmlrnms5UKICAgICAgcmV0dXJuIHRoaXMudm0uc3RhdGU7CiAgICB9CiAgfV0pOwoKICByZXR1cm4gU3RvcmU7Cn0oKTsgLy9fVnVlIDog5a6Y5pa5YXBpCgoKdmFyIGluc3RhbGwgPSBmdW5jdGlvbiBpbnN0YWxsKF9WdWUpIHsKICAvLyBfVnVlOnZ1ZSDnmoTmnoTpgKDlh73mlbAKICBWdWUgPSBfVnVlOyAvL+aUvuWIsFZ1ZeeahOWOn+Wei+S4iuaYr+S4jeWvueeahO+8jOWboOS4uum7mOiupOS8mue7meaJgOacieeahOWunuS+i+WinuWKoAogIC8vIOWPquS7juW9k+WJjeeahOagueWunuS+i+W8gOWni++8jOaJgOacieagueWunuS+i+eahOWtkOe7hOS7tuaJjeaciSRzdG9yZeaWueazlQogIC8v57uE5Lu255qE5Yib5bu66L+H56iL77yM5YWI54i25ZCO5a2Q77yM5YWI5Yib5bu6bmV3IFZ1Zeaguee7hOS7tuWGjeWIm+W7ukFwcOe7hOS7tgoKICBWdWUubWl4aW4oewogICAgLy/mir3nprvlhazlhbHpgLvovpEs5pS+5LiA5Lqb5pa55rOVCiAgICBiZWZvcmVDcmVhdGU6IGZ1bmN0aW9uIGJlZm9yZUNyZWF0ZSgpIHsKICAgICAgLy/miorniLbnu4Tku7bnmoRzdG9yZeWxnuaAp+aUvuWIsOavj+S4que7hOS7tueahOWunuWKm+S4igogICAgICBpZiAodGhpcy4kb3B0aW9ucy5zdG9yZSkgewogICAgICAgIC8v5qC55a6e5L6LCiAgICAgICAgdGhpcy4kc3RvcmUgPSB0aGlzLiRvcHRpb25zLnN0b3JlOwogICAgICB9IGVsc2UgewogICAgICAgIC8v6Z2e5qC55a6e5L6LCiAgICAgICAgdGhpcy4kc3RvcmUgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LiRzdG9yZTsKICAgICAgfQogICAgfQogIH0pOwp9OwoKZXhwb3J0IGRlZmF1bHQgewogIFN0b3JlOiBTdG9yZSwKICBpbnN0YWxsOiBpbnN0YWxsCn07"},{"version":3,"sources":["/Users/1000x/个人项目/珠峰js+架构课/mycode/架构课/vue/vuex/vuex-application/src/vuex/index.js"],"names":["Vue","forEach","obj","callback","Object","keys","key","Store","options","vm","data","state","getters","getterName","value","defineProperty","get","install","_Vue","mixin","beforeCreate","$options","store","$store","$parent"],"mappings":";;;;;AAAA,IAAIA,GAAJ;;AACA,IAAIC,OAAO,GAAG,SAAVA,OAAU,CAACC,GAAD,EAAKC,QAAL,EAAkB;AAC5BC,EAAAA,MAAM,CAACC,IAAP,CAAYH,GAAZ,EAAiBD,OAAjB,CAAyB,UAAAK,GAAG,EAAE;AAC1BH,IAAAA,QAAQ,CAACG,GAAD,EAAKJ,GAAG,CAACI,GAAD,CAAR,CAAR;AACH,GAFD;AAGH,CAJD,C,CAMA;AACA;AACA;;;IACMC,K;;;AAAU;AACZ,iBAAYC,OAAZ,EAAoB;AAAA;;AAAA;;AAChB;AACA;AACA,SAAKC,EAAL,GAAU,IAAIT,GAAJ,CAAQ;AAAG;AACjBU,MAAAA,IAAI,EAAC;AAAE;AACHC,QAAAA,KAAK,EAACH,OAAO,CAACG;AADb;AADS,KAAR,CAAV;AAKA,QAAIC,OAAO,GAAGJ,OAAO,CAACI,OAAtB,CARgB,CAQgB;;AAChC,SAAKA,OAAL,GAAe,EAAf;AACA;AACAX,IAAAA,OAAO,CAACW,OAAD,EAAS,UAACC,UAAD,EAAYC,KAAZ,EAAsB;AAClCV,MAAAA,MAAM,CAACW,cAAP,CAAsB,KAAI,CAACH,OAA3B,EAAoCC,UAApC,EAAgD;AAC5CG,QAAAA,GAAG,EAAE,eAAM;AACP,iBAAOF,KAAK,CAAC,KAAI,CAACH,KAAN,CAAZ;AACH;AAH2C,OAAhD;AAKH,KANM,CAAP;AAOH;;;;wBACU;AAAK;AACZ,aAAO,KAAKF,EAAL,CAAQE,KAAf;AACH;;;;KAEL;;;AACA,IAAMM,OAAO,GAAG,SAAVA,OAAU,CAACC,IAAD,EAAS;AAAG;AACxBlB,EAAAA,GAAG,GAAGkB,IAAN,CADqB,CAErB;AACA;AAEA;;AACAlB,EAAAA,GAAG,CAACmB,KAAJ,CAAU;AAAC;AACPC,IAAAA,YADM,0BACQ;AACV;AACA,UAAG,KAAKC,QAAL,CAAcC,KAAjB,EAAuB;AAAE;AACrB,aAAKC,MAAL,GAAc,KAAKF,QAAL,CAAcC,KAA5B;AACH,OAFD,MAEK;AAAC;AACF,aAAKC,MAAL,GAAc,KAAKC,OAAL,IAAgB,KAAKA,OAAL,CAAaD,MAA3C;AACH;AACJ;AARK,GAAV;AAUH,CAhBD;;AAoBA,eAAe;AACXhB,EAAAA,KAAK,EAALA,KADW;AAEXU,EAAAA,OAAO,EAAPA;AAFW,CAAf","sourcesContent":["let Vue;\nlet forEach = (obj,callback) => {\n    Object.keys(obj).forEach(key=>{\n        callback(key,obj[key]);\n    })\n}\n\n// forEach({a:1,b:2},(key,value) => {\n//     console.log(key,value);\n// });\nclass Store {   //用户获取的是这个Store类的实例\n    constructor(options){\n        //options：用户new 实例时传入的所有属性\n        //console.log(options);// state,getters,mutations,actions...\n        this.vm = new Vue({  //创建vue实例，保证装填更新可以刷新视图\n            data:{ // 默认这个状态会被使用Object.defineProperty重新定义\n                state:options.state\n            }\n        });\n        let getters = options.getters;  //获取用户传入的getters\n        this.getters = {};\n        debugger;\n        forEach(getters,(getterName,value) => {\n            Object.defineProperty(this.getters, getterName, {\n                get: () => {\n                    return value(this.state);\n                }\n            })\n        })\n    }\n    get state(){    //获取实例上的state属性就会执行此方法\n        return this.vm.state;\n    }\n}\n//_Vue : 官方api\nconst install = (_Vue) =>{  // _Vue:vue 的构造函数\n    Vue = _Vue;\n    //放到Vue的原型上是不对的，因为默认会给所有的实例增加\n    // 只从当前的根实例开始，所有根实例的子组件才有$store方法\n\n    //组件的创建过程，先父后子，先创建new Vue根组件再创建App组件\n    Vue.mixin({//抽离公共逻辑,放一些方法\n        beforeCreate(){\n            //把父组件的store属性放到每个组件的实力上\n            if(this.$options.store){ //根实例\n                this.$store = this.$options.store;\n            }else{//非根实例\n                this.$store = this.$parent && this.$parent.$store;\n            }\n        }\n    });\n}\n\n\n\nexport default {\n    Store,\n    install\n}"]}]}